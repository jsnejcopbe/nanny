(function(){var j=(function(){var r={};var s=[];r.inc=function(u,t){return true};r.register=function(v,t){var x=v.split(".");var w=r;var u=null;while(u=x.shift()){if(x.length){if(w[u]===undefined){w[u]={}}w=w[u]}else{if(w[u]===undefined){try{w[u]=t(r)}catch(y){s.push(y)}}}}};r.regShort=function(t,u){if(r[t]!==undefined){throw"["+t+"] : short : has been register"}r[t]=u};r.IE=/msie/i.test(navigator.userAgent);r.E=function(t){if(typeof t==="string"){return document.getElementById(t)}else{return t}};r.C=function(t){var u;t=t.toUpperCase();if(t=="TEXT"){u=document.createTextNode("")}else{if(t=="BUFFER"){u=document.createDocumentFragment()}else{u=document.createElement(t)}}return u};r.log=function(t){s.push("["+((new Date()).getTime()%100000)+"]: "+t)};r.getErrorLogInformationList=function(t){return s.splice(0,t||s.length)};return r})();$Import=j.inc;j.register("kit.dom.parseDOM",function(r){return function(t){for(var s in t){if(t[s]&&(t[s].length==1)){t[s]=t[s][0]}}return t}});j.register("core.arr.indexOf",function(r){return function(u,v){if(v.indexOf){return v.indexOf(u)}for(var t=0,s=v.length;t<s;t++){if(v[t]===u){return t}}return -1}});j.register("core.arr.inArray",function(r){return function(s,t){return r.core.arr.indexOf(s,t)>-1}});j.register("core.func.getType",function(r){return function(s){var t;return((t=typeof(s))=="object"?s==null&&"null"||Object.prototype.toString.call(s).slice(8,-1):t).toLowerCase()}});j.register("core.dom.sizzle",function(A){var G=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,z=0,u=Object.prototype.toString,F=false,y=true;[0,0].sort(function(){y=false;return 0});var s=function(N,I,Q,R){Q=Q||[];I=I||document;var T=I;if(I.nodeType!==1&&I.nodeType!==9){return[]}if(!N||typeof N!=="string"){return Q}var O=[],K,V,Y,J,M=true,L=s.isXML(I),S=N,U,X,W,P;do{G.exec("");K=G.exec(S);if(K){S=K[3];O.push(K[1]);if(K[2]){J=K[3];break}}}while(K);if(O.length>1&&B.exec(N)){if(O.length===2&&v.relative[O[0]]){V=x(O[0]+O[1],I)}else{V=v.relative[O[0]]?[I]:s(O.shift(),I);while(O.length){N=O.shift();if(v.relative[N]){N+=O.shift()}V=x(N,V)}}}else{if(!R&&O.length>1&&I.nodeType===9&&!L&&v.match.ID.test(O[0])&&!v.match.ID.test(O[O.length-1])){U=s.find(O.shift(),I,L);I=U.expr?s.filter(U.expr,U.set)[0]:U.set[0]}if(I){U=R?{expr:O.pop(),set:r(R)}:s.find(O.pop(),O.length===1&&(O[0]==="~"||O[0]==="+")&&I.parentNode?I.parentNode:I,L);V=U.expr?s.filter(U.expr,U.set):U.set;if(O.length>0){Y=r(V)}else{M=false}while(O.length){X=O.pop();W=X;if(!v.relative[X]){X=""}else{W=O.pop()}if(W==null){W=I}v.relative[X](Y,W,L)}}else{Y=O=[]}}if(!Y){Y=V}if(!Y){s.error(X||N)}if(u.call(Y)==="[object Array]"){if(!M){Q.push.apply(Q,Y)}else{if(I&&I.nodeType===1){for(P=0;Y[P]!=null;P++){if(Y[P]&&(Y[P]===true||Y[P].nodeType===1&&s.contains(I,Y[P]))){Q.push(V[P])}}}else{for(P=0;Y[P]!=null;P++){if(Y[P]&&Y[P].nodeType===1){Q.push(V[P])}}}}}else{r(Y,Q)}if(J){s(J,T,Q,R);s.uniqueSort(Q)}return Q};s.uniqueSort=function(J){if(t){F=y;J.sort(t);if(F){for(var I=1;I<J.length;I++){if(J[I]===J[I-1]){J.splice(I--,1)}}}}return J};s.matches=function(I,J){return s(I,null,null,J)};s.find=function(P,I,Q){var O;if(!P){return[]}for(var L=0,K=v.order.length;L<K;L++){var N=v.order[L],M;if((M=v.leftMatch[N].exec(P))){var J=M[1];M.splice(1,1);if(J.substr(J.length-1)!=="\\"){M[1]=(M[1]||"").replace(/\\/g,"");O=v.find[N](M,I,Q);if(O!=null){P=P.replace(v.match[N],"");break}}}}if(!O){O=I.getElementsByTagName("*")}return{set:O,expr:P}};s.filter=function(T,S,W,M){var K=T,Y=[],Q=S,O,I,P=S&&S[0]&&s.isXML(S[0]);while(T&&S.length){for(var R in v.filter){if((O=v.leftMatch[R].exec(T))!=null&&O[2]){var J=v.filter[R],X,V,L=O[1];I=false;O.splice(1,1);if(L.substr(L.length-1)==="\\"){continue}if(Q===Y){Y=[]}if(v.preFilter[R]){O=v.preFilter[R](O,Q,W,Y,M,P);if(!O){I=X=true}else{if(O===true){continue}}}if(O){for(var N=0;(V=Q[N])!=null;N++){if(V){X=J(V,O,N,Q);var U=M^!!X;if(W&&X!=null){if(U){I=true}else{Q[N]=false}}else{if(U){Y.push(V);I=true}}}}}if(X!==undefined){if(!W){Q=Y}T=T.replace(v.match[R],"");if(!I){return[]}break}}}if(T===K){if(I==null){s.error(T)}else{break}}K=T}return Q};s.error=function(I){throw"Syntax error, unrecognized expression: "+I};var v={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+\-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(I){return I.getAttribute("href")}},relative:{"+":function(O,J){var L=typeof J==="string",N=L&&!/\W/.test(J),P=L&&!N;if(N){J=J.toLowerCase()}for(var K=0,I=O.length,M;K<I;K++){if((M=O[K])){while((M=M.previousSibling)&&M.nodeType!==1){}O[K]=P||M&&M.nodeName.toLowerCase()===J?M||false:M===J}}if(P){s.filter(J,O,true)}},">":function(O,J){var M=typeof J==="string",N,K=0,I=O.length;if(M&&!/\W/.test(J)){J=J.toLowerCase();for(;K<I;K++){N=O[K];if(N){var L=N.parentNode;O[K]=L.nodeName.toLowerCase()===J?L:false}}}else{for(;K<I;K++){N=O[K];if(N){O[K]=M?N.parentNode:N.parentNode===J}}if(M){s.filter(J,O,true)}}},"":function(L,J,N){var K=z++,I=H,M;if(typeof J==="string"&&!/\W/.test(J)){J=J.toLowerCase();M=J;I=E}I("parentNode",J,K,L,M,N)},"~":function(L,J,N){var K=z++,I=H,M;if(typeof J==="string"&&!/\W/.test(J)){J=J.toLowerCase();M=J;I=E}I("previousSibling",J,K,L,M,N)}},find:{ID:function(J,K,L){if(typeof K.getElementById!=="undefined"&&!L){var I=K.getElementById(J[1]);return I?[I]:[]}},NAME:function(K,N){if(typeof N.getElementsByName!=="undefined"){var J=[],M=N.getElementsByName(K[1]);for(var L=0,I=M.length;L<I;L++){if(M[L].getAttribute("name")===K[1]){J.push(M[L])}}return J.length===0?null:J}},TAG:function(I,J){return J.getElementsByTagName(I[1])}},preFilter:{CLASS:function(L,J,K,I,O,P){L=" "+L[1].replace(/\\/g,"")+" ";if(P){return L}for(var M=0,N;(N=J[M])!=null;M++){if(N){if(O^(N.className&&(" "+N.className+" ").replace(/[\t\n]/g," ").indexOf(L)>=0)){if(!K){I.push(N)}}else{if(K){J[M]=false}}}}return false},ID:function(I){return I[1].replace(/\\/g,"")},TAG:function(J,I){return J[1].toLowerCase()},CHILD:function(I){if(I[1]==="nth"){var J=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(I[2]==="even"&&"2n"||I[2]==="odd"&&"2n+1"||!/\D/.test(I[2])&&"0n+"+I[2]||I[2]);I[2]=(J[1]+(J[2]||1))-0;I[3]=J[3]-0}I[0]=z++;return I},ATTR:function(M,J,K,I,N,O){var L=M[1].replace(/\\/g,"");if(!O&&v.attrMap[L]){M[1]=v.attrMap[L]}if(M[2]==="~="){M[4]=" "+M[4]+" "}return M},PSEUDO:function(M,J,K,I,N){if(M[1]==="not"){if((G.exec(M[3])||"").length>1||/^\w/.test(M[3])){M[3]=s(M[3],null,null,J)}else{var L=s.filter(M[3],J,K,true^N);if(!K){I.push.apply(I,L)}return false}}else{if(v.match.POS.test(M[0])||v.match.CHILD.test(M[0])){return true}}return M},POS:function(I){I.unshift(true);return I}},filters:{enabled:function(I){return I.disabled===false&&I.type!=="hidden"},disabled:function(I){return I.disabled===true},checked:function(I){return I.checked===true},selected:function(I){I.parentNode.selectedIndex;return I.selected===true},parent:function(I){return !!I.firstChild},empty:function(I){return !I.firstChild},has:function(K,J,I){return !!s(I[3],K).length},header:function(I){return(/h\d/i).test(I.nodeName)},text:function(I){return"text"===I.type},radio:function(I){return"radio"===I.type},checkbox:function(I){return"checkbox"===I.type},file:function(I){return"file"===I.type},password:function(I){return"password"===I.type},submit:function(I){return"submit"===I.type},image:function(I){return"image"===I.type},reset:function(I){return"reset"===I.type},button:function(I){return"button"===I.type||I.nodeName.toLowerCase()==="button"},input:function(I){return(/input|select|textarea|button/i).test(I.nodeName)}},setFilters:{first:function(J,I){return I===0},last:function(K,J,I,L){return J===L.length-1},even:function(J,I){return I%2===0},odd:function(J,I){return I%2===1},lt:function(K,J,I){return J<I[3]-0},gt:function(K,J,I){return J>I[3]-0},nth:function(K,J,I){return I[3]-0===J},eq:function(K,J,I){return I[3]-0===J}},filter:{PSEUDO:function(K,P,O,Q){var I=P[1],J=v.filters[I];if(J){return J(K,O,P,Q)}else{if(I==="contains"){return(K.textContent||K.innerText||s.getText([K])||"").indexOf(P[3])>=0}else{if(I==="not"){var L=P[3];for(var N=0,M=L.length;N<M;N++){if(L[N]===K){return false}}return true}else{s.error("Syntax error, unrecognized expression: "+I)}}}},CHILD:function(I,L){var O=L[1],J=I;switch(O){case"only":case"first":while((J=J.previousSibling)){if(J.nodeType===1){return false}}if(O==="first"){return true}J=I;case"last":while((J=J.nextSibling)){if(J.nodeType===1){return false}}return true;case"nth":var K=L[2],R=L[3];if(K===1&&R===0){return true}var N=L[0],Q=I.parentNode;if(Q&&(Q.sizcache!==N||!I.nodeIndex)){var M=0;for(J=Q.firstChild;J;J=J.nextSibling){if(J.nodeType===1){J.nodeIndex=++M}}Q.sizcache=N}var P=I.nodeIndex-R;if(K===0){return P===0}else{return(P%K===0&&P/K>=0)}}},ID:function(J,I){return J.nodeType===1&&J.getAttribute("id")===I},TAG:function(J,I){return(I==="*"&&J.nodeType===1)||J.nodeName.toLowerCase()===I},CLASS:function(J,I){return(" "+(J.className||J.getAttribute("class"))+" ").indexOf(I)>-1},ATTR:function(N,L){var K=L[1],I=v.attrHandle[K]?v.attrHandle[K](N):N[K]!=null?N[K]:N.getAttribute(K),O=I+"",M=L[2],J=L[4];return I==null?M==="!=":M==="="?O===J:M==="*="?O.indexOf(J)>=0:M==="~="?(" "+O+" ").indexOf(J)>=0:!J?O&&I!==false:M==="!="?O!==J:M==="^="?O.indexOf(J)===0:M==="$="?O.substr(O.length-J.length)===J:M==="|="?O===J||O.substr(0,J.length+1)===J+"-":false},POS:function(M,J,K,N){var I=J[2],L=v.setFilters[I];if(L){return L(M,K,J,N)}}}};s.selectors=v;var B=v.match.POS,w=function(J,I){return"\\"+(I-0+1)};for(var D in v.match){v.match[D]=new RegExp(v.match[D].source+(/(?![^\[]*\])(?![^\(]*\))/.source));v.leftMatch[D]=new RegExp(/(^(?:.|\r|\n)*?)/.source+v.match[D].source.replace(/\\(\d+)/g,w))}var r=function(J,I){J=Array.prototype.slice.call(J,0);if(I){I.push.apply(I,J);return I}return J};try{Array.prototype.slice.call(document.documentElement.childNodes,0)[0].nodeType}catch(C){r=function(M,L){var J=L||[],K=0;if(u.call(M)==="[object Array]"){Array.prototype.push.apply(J,M)}else{if(typeof M.length==="number"){for(var I=M.length;K<I;K++){J.push(M[K])}}else{for(;M[K];K++){J.push(M[K])}}}return J}}var t;if(document.documentElement.compareDocumentPosition){t=function(J,I){if(!J.compareDocumentPosition||!I.compareDocumentPosition){if(J==I){F=true}return J.compareDocumentPosition?-1:1}var K=J.compareDocumentPosition(I)&4?-1:J===I?0:1;if(K===0){F=true}return K}}else{if("sourceIndex" in document.documentElement){t=function(J,I){if(!J.sourceIndex||!I.sourceIndex){if(J==I){F=true}return J.sourceIndex?-1:1}var K=J.sourceIndex-I.sourceIndex;if(K===0){F=true}return K}}else{if(document.createRange){t=function(L,J){if(!L.ownerDocument||!J.ownerDocument){if(L==J){F=true}return L.ownerDocument?-1:1}var K=L.ownerDocument.createRange(),I=J.ownerDocument.createRange();K.setStart(L,0);K.setEnd(L,0);I.setStart(J,0);I.setEnd(J,0);var M=K.compareBoundaryPoints(Range.START_TO_END,I);if(M===0){F=true}return M}}}}s.getText=function(I){var J="",L;for(var K=0;I[K];K++){L=I[K];if(L.nodeType===3||L.nodeType===4){J+=L.nodeValue}else{if(L.nodeType!==8){J+=s.getText(L.childNodes)}}}return J};(function(){var J=document.createElement("div"),K="script"+(new Date()).getTime();J.innerHTML="<a name='"+K+"'/>";var I=document.documentElement;I.insertBefore(J,I.firstChild);if(document.getElementById(K)){v.find.ID=function(M,N,O){if(typeof N.getElementById!=="undefined"&&!O){var L=N.getElementById(M[1]);return L?L.id===M[1]||typeof L.getAttributeNode!=="undefined"&&L.getAttributeNode("id").nodeValue===M[1]?[L]:undefined:[]}};v.filter.ID=function(N,L){var M=typeof N.getAttributeNode!=="undefined"&&N.getAttributeNode("id");return N.nodeType===1&&M&&M.nodeValue===L}}I.removeChild(J);I=J=null})();(function(){var I=document.createElement("div");I.appendChild(document.createComment(""));if(I.getElementsByTagName("*").length>0){v.find.TAG=function(J,N){var M=N.getElementsByTagName(J[1]);if(J[1]==="*"){var L=[];for(var K=0;M[K];K++){if(M[K].nodeType===1){L.push(M[K])}}M=L}return M}}I.innerHTML="<a href='#'></a>";if(I.firstChild&&typeof I.firstChild.getAttribute!=="undefined"&&I.firstChild.getAttribute("href")!=="#"){v.attrHandle.href=function(J){return J.getAttribute("href",2)}}I=null})();if(document.querySelectorAll){(function(){var I=s,K=document.createElement("div");K.innerHTML="<p class='TEST'></p>";if(K.querySelectorAll&&K.querySelectorAll(".TEST").length===0){return}s=function(O,N,L,M){N=N||document;if(!M&&N.nodeType===9&&!s.isXML(N)){try{return r(N.querySelectorAll(O),L)}catch(P){}}return I(O,N,L,M)};for(var J in I){s[J]=I[J]}K=null})()}(function(){var I=document.createElement("div");I.innerHTML="<div class='test e'></div><div class='test'></div>";if(!I.getElementsByClassName||I.getElementsByClassName("e").length===0){return}I.lastChild.className="e";if(I.getElementsByClassName("e").length===1){return}v.order.splice(1,0,"CLASS");v.find.CLASS=function(J,K,L){if(typeof K.getElementsByClassName!=="undefined"&&!L){return K.getElementsByClassName(J[1])}};I=null})();function E(J,O,N,R,P,Q){for(var L=0,K=R.length;L<K;L++){var I=R[L];if(I){I=I[J];var M=false;while(I){if(I.sizcache===N){M=R[I.sizset];break}if(I.nodeType===1&&!Q){I.sizcache=N;I.sizset=L}if(I.nodeName.toLowerCase()===O){M=I;break}I=I[J]}R[L]=M}}}function H(J,O,N,R,P,Q){for(var L=0,K=R.length;L<K;L++){var I=R[L];if(I){I=I[J];var M=false;while(I){if(I.sizcache===N){M=R[I.sizset];break}if(I.nodeType===1){if(!Q){I.sizcache=N;I.sizset=L}if(typeof O!=="string"){if(I===O){M=true;break}}else{if(s.filter(O,[I]).length>0){M=I;break}}}I=I[J]}R[L]=M}}}s.contains=document.compareDocumentPosition?function(J,I){return !!(J.compareDocumentPosition(I)&16)}:function(J,I){return J!==I&&(J.contains?J.contains(I):true)};s.isXML=function(I){var J=(I?I.ownerDocument||I:0).documentElement;return J?J.nodeName!=="HTML":false};var x=function(I,P){var L=[],M="",N,K=P.nodeType?[P]:P;while((N=v.match.PSEUDO.exec(I))){M+=N[0];I=I.replace(v.match.PSEUDO,"")}I=v.relative[I]?I+"*":I;for(var O=0,J=K.length;O<J;O++){s(I,K[O],L)}return s.filter(M,L)};return s});j.register("core.dom.builder",function(r){function s(A,w){if(w){return w}var v,y=/\<(\w+)[^>]*\s+node-type\s*=\s*([\'\"])?(\w+)\2.*?>/g;var x={};var z,u,t;while((v=y.exec(A))){u=v[1];z=v[3];t=u+"[node-type="+z+"]";x[z]=x[z]==null?[]:x[z];if(!r.core.arr.inArray(t,x[z])){x[z].push(u+"[node-type="+z+"]")}}return x}return function(x,w){var t=r.core.func.getType(x)=="string";var A=s(t?x:x.innerHTML,w);var u=x;if(t){u=r.C("div");u.innerHTML=x}var B,z,y;y=r.core.dom.sizzle("[node-type]",u);z={};for(B in A){z[B]=r.core.dom.sizzle.matches(A[B].toString(),y)}var v=x;if(t){v=r.C("buffer");while(u.children[0]){v.appendChild(u.children[0])}}return{box:v,list:z}}});j.register("core.util.scrollPos",function(r){return function(u){u=u||document;var s=u.documentElement;var t=u.body;return{top:Math.max(window.pageYOffset||0,s.scrollTop,t.scrollTop),left:Math.max(window.pageXOffset||0,s.scrollLeft,t.scrollLeft)}}});j.register("core.util.browser",function(x){var r=navigator.userAgent.toLowerCase();var A=window.external||"";var t,u,v,B,w;var s=function(C){var D=0;return parseFloat(C.replace(/\./g,function(){return(D++==1)?"":"."}))};try{if((/windows|win32/i).test(r)){w="windows"}else{if((/macintosh/i).test(r)){w="macintosh"}else{if((/rhino/i).test(r)){w="rhino"}}}if((u=r.match(/applewebkit\/([^\s]*)/))&&u[1]){t="webkit";B=s(u[1])}else{if((u=r.match(/presto\/([\d.]*)/))&&u[1]){t="presto";B=s(u[1])}else{if(u=r.match(/msie\s([^;]*)/)){t="trident";B=1;if((u=r.match(/trident\/([\d.]*)/))&&u[1]){B=s(u[1])}}else{if(/gecko/.test(r)){t="gecko";B=1;if((u=r.match(/rv:([\d.]*)/))&&u[1]){B=s(u[1])}}}}}if(/world/.test(r)){v="world"}else{if(/360se/.test(r)){v="360"}else{if((/maxthon/.test(r))||typeof A.max_version=="number"){v="maxthon"}else{if(/tencenttraveler\s([\d.]*)/.test(r)){v="tt"}else{if(/se\s([\d.]*)/.test(r)){v="sogou"}}}}}}catch(z){}var y={OS:w,CORE:t,Version:B,EXTRA:(v?v:false),IE:/msie/.test(r),OPERA:/opera/.test(r),MOZ:/gecko/.test(r)&&!/(compatible|webkit)/.test(r),IE5:/msie 5 /.test(r),IE55:/msie 5.5/.test(r),IE6:/msie 6/.test(r),IE7:/msie 7/.test(r),IE8:/msie 8/.test(r),IE9:/msie 9/.test(r),SAFARI:!/chrome\/([\d.]*)/.test(r)&&/\/([\d.]*) safari/.test(r),CHROME:/chrome\/([\d.]*)/.test(r),IPAD:/\(ipad/i.test(r),IPHONE:/\(iphone/i.test(r),ITOUCH:/\(itouch/i.test(r),MOBILE:/mobile/i.test(r)};return y});j.register("core.obj.parseParam",function(r){return function(u,t,s){var v,w={};t=t||{};for(v in u){w[v]=u[v];if(t[v]!=null){if(s){if(u.hasOwnProperty[v]){w[v]=t[v]}}else{w[v]=t[v]}}}return w}});j.register("core.dom.position",function(t){var r=function(x){var y,w,v,u,A,z;y=x.getBoundingClientRect();w=t.core.util.scrollPos();v=x.ownerDocument.body;u=x.ownerDocument.documentElement;A=u.clientTop||v.clientTop||0;z=u.clientLeft||v.clientLeft||0;return{l:parseInt(y.left+w.left-z,10)||0,t:parseInt(y.top+w.top-A,10)||0}};var s=function(v,u){var w;w=[v.offsetLeft,v.offsetTop];parent=v.offsetParent;if(parent!==v&&parent!==u){while(parent){w[0]+=parent.offsetLeft;w[1]+=parent.offsetTop;parent=parent.offsetParent}}if(t.core.util.browser.OPERA!=-1||(t.core.util.browser.SAFARI!=-1&&v.style.position=="absolute")){w[0]-=document.body.offsetLeft;w[1]-=document.body.offsetTop}if(v.parentNode){parent=v.parentNode}else{parent=null}while(parent&&!/^body|html$/i.test(parent.tagName)&&parent!==u){if(parent.style.display.search(/^inline|table-row.*$/i)){w[0]-=parent.scrollLeft;w[1]-=parent.scrollTop}parent=parent.parentNode}return{l:parseInt(w[0],10),t:parseInt(w[1],10)}};return function(w,u){if(w==document.body){return false}if(w.parentNode==null){return false}if(w.style.display=="none"){return false}var v=t.core.obj.parseParam({parent:null},u);if(w.getBoundingClientRect){if(v.parent){var y=r(w);var x=r(v.parent);return{l:y.l-x.l,t:y.t-x.t}}else{return r(w)}}else{return s(w,v.parent||document.body)}}});j.register("core.dom.insertAfter",function(r){return function(t,u){var s=u.parentNode;if(s.lastChild==u){s.appendChild(t)}else{s.insertBefore(t,u.nextSibling)}}});j.register("core.dom.removeNode",function(r){return function(s){s=r.E(s)||s;try{s.parentNode.removeChild(s)}catch(t){}}});j.register("core.evt.addEvent",function(r){return function(s,v,u){var t=r.E(s);if(t==null){return false}v=v||"click";if((typeof u).toLowerCase()!="function"){return}if(t.addEventListener){t.addEventListener(v,u,false)}else{if(t.attachEvent){t.attachEvent("on"+v,u)}else{t["on"+v]=u}}return true}});j.register("core.evt.getEvent",function(r){return function(){if(r.IE){return window.event}else{if(window.event){return window.event}var t=arguments.callee.caller;var s;var u=0;while(t!=null&&u<40){s=t.arguments[0];if(s&&(s.constructor==Event||s.constructor==MouseEvent||s.constructor==KeyboardEvent)){return s}u++;t=t.caller}return s}}});j.register("core.evt.fixEvent",function(r){return function(s){s=s||r.core.evt.getEvent();if(!s.target){s.target=s.srcElement;s.pageX=s.x;s.pageY=s.y}if(typeof s.layerX=="undefined"){s.layerX=s.offsetX}if(typeof s.layerY=="undefined"){s.layerY=s.offsetY}return s}});j.register("core.evt.removeEvent",function(r){return function(t,v,u,s){var w=r.E(t);if(w==null){return false}if(typeof u!="function"){return false}if(w.removeEventListener){w.removeEventListener(v,u,s)}else{if(w.detachEvent){w.detachEvent("on"+v,u)}else{w["on"+v]=null}}return true}});j.register("core.arr.isArray",function(r){return function(s){return Object.prototype.toString.call(s)==="[object Array]"}});j.register("core.str.trim",function(r){return function(w){if(typeof w!=="string"){throw"trim need a string as parameter"}var t=w.length;var v=0;var u=/(\u3000|\s|\t|\u00A0)/;while(v<t){if(!u.test(w.charAt(v))){break}v+=1}while(t>v){if(!u.test(w.charAt(t-1))){break}t-=1}return w.slice(v,t)}});j.register("core.json.queryToJson",function(r){return function(u,y){var A=r.core.str.trim(u).split("&");var z={};var t=function(C){if(y){return decodeURIComponent(C)}else{return C}};for(var w=0,x=A.length;w<x;w++){if(A[w]){var v=A[w].split("=");var s=v[0];var B=v[1];if(v.length<2){B=s;s="$nullName"}if(!z[s]){z[s]=t(B)}else{if(r.core.arr.isArray(z[s])!=true){z[s]=[z[s]]}z[s].push(t(B))}}}return z}});j.register("core.dom.isNode",function(r){return function(s){return(s!=undefined)&&Boolean(s.nodeName)&&Boolean(s.nodeType)}});j.register("core.dom.contains",function(r){return function(s,t){if(s===t){return false}else{if(s.compareDocumentPosition){return((s.compareDocumentPosition(t)&16)===16)}else{if(s.contains&&t.nodeType===1){return s.contains(t)}else{while(t=t.parentNode){if(s===t){return true}}}}}return false}});j.register("core.obj.isEmpty",function(r){return function(v,u){var t=true;for(var s in v){if(u){t=false;break}else{if(v.hasOwnProperty(s)){t=false;break}}}return t}});j.register("core.func.empty",function(){return function(){}});j.register("core.evt.delegatedEvent",function(s){var r=function(w,v){for(var u=0,t=w.length;u<t;u+=1){if(s.core.dom.contains(w[u],v)){return true}}return false};return function(u,x){if(!s.core.dom.isNode(u)){throw"core.evt.delegatedEvent need an Element as first Parameter"}if(!x){x=[]}if(s.core.arr.isArray(x)){x=[x]}var t={};var w=function(D){var z=s.core.evt.fixEvent(D);var C=z.target;var B=D.type;var E=function(){var H,F,G;H=C.getAttribute("action-target");if(H){F=s.core.dom.sizzle(H,u);if(F.length){G=z.target=F[0]}}E=s.core.func.empty;return G};var y=function(){var F=E()||C;if(t[B]&&t[B][A]){return t[B][A]({evt:z,el:F,box:u,data:s.core.json.queryToJson(F.getAttribute("action-data")||"")})}else{return true}};if(r(x,C)){return false}else{if(!s.core.dom.contains(u,C)){return false}else{var A=null;while(C&&C!==u){A=C.getAttribute("action-type");if(A&&y()===false){break}C=C.parentNode}}}};var v={};v.add=function(A,B,z){if(!t[B]){t[B]={};s.core.evt.addEvent(u,B,w)}var y=t[B];y[A]=z};v.remove=function(y,z){if(t[z]){delete t[z][y];if(s.core.obj.isEmpty(t[z])){delete t[z];s.core.evt.removeEvent(u,z,w)}}};v.pushExcept=function(y){x.push(y)};v.removeExcept=function(A){if(!A){x=[]}else{for(var z=0,y=x.length;z<y;z+=1){if(x[z]===A){x.splice(z,1)}}}};v.clearExcept=function(y){x=[]};v.destroy=function(){for(k in t){for(l in t[k]){delete t[k][l]}delete t[k];s.core.evt.removeEvent(u,k,w)}};return v}});j.register("core.evt.preventDefault",function(r){return function(t){var s=t?t:r.core.evt.getEvent();if(r.IE){s.returnValue=false}else{s.preventDefault()}}});j.register("core.arr.foreach",function(t){var r=function(A,w){var z=[];for(var y=0,v=A.length;y<v;y+=1){var u=w(A[y],y);if(u===false){break}else{if(u!==null){z[y]=u}}}return z};var s=function(z,v){var y={};for(var w in z){var u=v(z[w],w);if(u===false){break}else{if(u!==null){y[w]=u}}}return y};return function(v,u){if(t.core.arr.isArray(v)||(v.length&&v[0]!==undefined)){return r(v,u)}else{if(typeof v==="object"){return s(v,u)}}return null}});j.register("core.evt.stopEvent",function(r){return function(t){var s=t?t:r.core.evt.getEvent();if(r.IE){s.cancelBubble=true;s.returnValue=false}else{s.preventDefault();s.stopPropagation()}return false}});j.register("core.util.getUniqueKey",function(t){var r=(new Date()).getTime().toString(),s=1;return function(){return r+(s++)}});j.register("core.str.parseURL",function(r){return function(u){var t=/^(?:([A-Za-z]+):(\/{0,3}))?([0-9.\-A-Za-z]+\.[0-9A-Za-z]+)?(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/;var y=["url","scheme","slash","host","port","path","query","hash"];var w=t.exec(u);var x={};for(var v=0,s=y.length;v<s;v+=1){x[y[v]]=w[v]||""}return x}});j.register("core.json.jsonToQuery",function(r){var s=function(u,t){u=u==null?"":u;u=r.core.str.trim(u.toString());if(t){return encodeURIComponent(u)}else{return u}};return function(x,v){var y=[];if(typeof x=="object"){for(var u in x){if(u==="$nullName"){y=y.concat(x[u]);continue}if(x[u] instanceof Array){for(var w=0,t=x[u].length;w<t;w++){y.push(u+"="+s(x[u][w],v))}}else{if(typeof x[u]!="function"){y.push(u+"="+s(x[u],v))}}}}if(y.length){return y.join("&")}else{return""}}});j.register("core.util.URL",function(r){return function(w,t){var v=r.core.obj.parseParam({isEncodeQuery:false,isEncodeHash:false},t||{});var u={};var y=r.core.str.parseURL(w);var s=r.core.json.queryToJson(y.query);var x=r.core.json.queryToJson(y.hash);u.setParam=function(z,A){s[z]=A;return this};u.getParam=function(z){return s[z]};u.setParams=function(A){for(var z in A){u.setParam(z,A[z])}return this};u.setHash=function(z,A){x[z]=A;return this};u.getHash=function(z){return x[z]};u.valueOf=u.toString=function(){var z=[];var A=r.core.json.jsonToQuery(s,v.isEncodeQuery);var B=r.core.json.jsonToQuery(x,v.isEncodeQuery);if(y.scheme!=""){z.push(y.scheme+":");z.push(y.slash)}if(y.host!=""){z.push(y.host);if(y.port!=""){z.push(":");z.push(y.port)}}z.push("/");z.push(y.path);if(A!=""){z.push("?"+A)}if(B!=""){z.push("#"+B)}return z.join("")};return u}});j.register("core.io.scriptLoader",function(s){var t={};var r={url:"",charset:"UTF-8",timeout:30*1000,args:{},onComplete:s.core.func.empty,onTimeout:null,isEncode:false,uniqueID:null};return function(y){var w,u;var v=s.core.obj.parseParam(r,y);if(v.url==""){throw"scriptLoader: url is null"}var x=v.uniqueID||s.core.util.getUniqueKey();w=t[x];if(w!=null&&s.IE!=true){s.core.dom.removeNode(w);w=null}if(w==null){w=t[x]=s.C("script")}w.charset=v.charset;w.id="scriptRequest_script_"+x;w.type="text/javascript";if(v.onComplete!=null){if(s.IE){w.onreadystatechange=function(){if(w.readyState.toLowerCase()=="loaded"||w.readyState.toLowerCase()=="complete"){try{clearTimeout(u);document.getElementsByTagName("head")[0].removeChild(w);w.onreadystatechange=null}catch(z){}v.onComplete()}}}else{w.onload=function(){try{clearTimeout(u);s.core.dom.removeNode(w)}catch(z){}v.onComplete()}}}w.src=j.core.util.URL(v.url,{isEncodeQuery:v.isEncode}).setParams(v.args);document.getElementsByTagName("head")[0].appendChild(w);if(v.timeout>0&&v.onTimeout!=null){u=setTimeout(function(){try{document.getElementsByTagName("head")[0].removeChild(w)}catch(z){}v.onTimeout()},v.timeout)}return w}});j.register("core.io.jsonp",function(r){return function(w){var u=r.core.obj.parseParam({url:"",charset:"UTF-8",timeout:30*1000,args:{},onComplete:null,onTimeout:null,responseName:null,isEncode:false,varkey:"callback"},w);var x=-1;var v=u.responseName||("STK_"+r.core.util.getUniqueKey());u.args[u.varkey]=v;var s=u.onComplete;var t=u.onTimeout;window[v]=function(y){if(x!=2&&s!=null){x=1;s(y)}};u.onComplete=null;u.onTimeout=function(){if(x!=1&&t!=null){x=2;t()}};return r.core.io.scriptLoader(u)}});j.register("common.login",function(v){var r=v.core.str.trim;var u={};var t="openapi";window.sinaSSOConfig={entry:t,domain:"weibo.com",customLoginCallBack:function(){},customLogoutCallBack:function(){},useTicket:true};var s=function(w){if(typeof window.sinaSSOController!="undefined"){w()}else{v.core.io.scriptLoader({url:"/oauth2/js/sso/ssologin.js",onComplete:function(){setTimeout(w,0)}})}};u.preLogin=function(x,y){var w=function(){sinaSSOController.prelogin({username:x,checkpin:1},y)};s(w)};u.doLogin=function(A){var w=v.core.obj.parseParam({userId:"",passWd:"",door:"",vsnval:"",appkey:"",remTime:0,callback:function(){}},A);var y=r(w.userId),x=r(w.passWd);var z=function(){sinaSSOController.customLoginCallBack=w.callback;sinaSSOController.loginExtraQuery.ct=1800;sinaSSOController.crossDomain=false;sinaSSOController.loginExtraQuery.s=1;sinaSSOController.loginExtraQuery.vsnf=1;sinaSSOController.loginExtraQuery.vsnval=w.vsnval;sinaSSOController.loginExtraQuery.door=w.door;sinaSSOController.loginExtraQuery.appkey=w.appkey;sinaSSOController.login(y,x,w.remTime)};s(z)};u.doLogout=function(){var w=v.E("url").value||document.location.href;if(document.location.host.indexOf("weibo.cn")!=-1){document.location.href="http://api.weibo.cn/interface/f/login/logout.php?backUrl="+encodeURIComponent(w);return}document.location.href="http://login.sina.com.cn/sso/logout.php?entry="+t+"&r="+encodeURIComponent(w)};return u});j.register("common.resize",function(){var r={width:750+20,height:450+180};function s(t){if(!/\((iPhone|iPad|iPod)/i.test(navigator.userAgent)){(function(E,z){var u,B,D=z.documentElement;u=(D&&D.clientWidth)?D.clientWidth:z.body.clientWidth;B=(D&&D.clientHeight)?D.clientHeight:z.body.clientHeight;try{if(u<t.width||B<t.height){E.resizeTo(t.width,t.height)}var x="js,popup";var A=g.core.json.queryToJson(document.location.search.substr(1)).display||0;if(x.indexOf(A)==-1){return}var v=(E.screen.width-t.width)/2,C=(E.screen.height-t.height)/2;E.moveTo(v,C)}catch(y){}})(window,document)}}return function(u){var t=g.core.obj.parseParam(r,u);s(t)}});j.register("ui.simpleTip",function(s){var r=s.core.evt.addEvent;return function(u){var x={};var E,D,z;var A=function(){if(!u.tipBox){throw"node[tipBox] is not defined"}};var t=function(){E=u.tipBox;D=u.tipClose;z=u.tipContent};var y=function(){r(D,"click",w)};var w=function(){E.style.display="none"};var B=function(){E.style.display=""};var v=function(F){if(typeof F==="string"){z.innerHTML=F}return x};var C=function(){A();t();y()};C();x.show=B;x.hide=w;x.setContent=v;return x}});j.register("common.privacy",function(t){var s=t.core.evt.addEvent;var r=t.core.evt.stopEvent;return function(u,w){var v={init:function(){if(u.arrow_btn||u.privacy){var x=q("input[name=visible]")[0];u.visible=x;if(w=="mobile"){s(u.privacy,"change",v.itemSelect)}else{s(u.arrow_btn,"click",v.btnClickHandler);s(u.current_status,"click",v.textClickHandler);s(u.options_outer,"click",v.itemClickHandler);s(document,"click",v.documentClickHandler)}}},textClickHandler:function(x){var x=x||window.event;r(x)},btnClickHandler:function(x){var x=x||window.event();r(x);u.options_outer.style.display=""},documentClickHandler:function(x){u.options_outer.style.display="none"},itemSelect:function(){u.visible.value=u.privacy.value},itemClickHandler:function(B){var z=t.core.evt.fixEvent(B),y=z.target,x=y.getAttribute("action-data");r(z);if(x){var A=t.core.json.queryToJson(x);u.visible.value=A.visible;u.current_status.innerHTML=y.innerHTML;u.options_outer.style.display="none"}}};v.init()}});j.register("core.dom.hasClassName",function(r){return function(t,s){return(new RegExp("\\b"+s+"\\b").test(t.className))}});j.register("core.dom.addClassName",function(r){return function(t,s){if(t.nodeType===1){if(!r.core.dom.hasClassName(t,s)){t.className+=(" "+s)}}}});j.register("core.dom.removeClassName",function(r){return function(t,s){if(t.nodeType===1){if(r.core.dom.hasClassName(t,s)){t.className=t.className.replace(new RegExp("\\b"+s+"\\b")," ")}}}});j.register("common.mobile.scope",function(v){var u=v.core.evt.addEvent;var w=v.core.dom.sizzle;var t=v.core.dom.addClassName;var r=v.core.dom.hasClassName;var s=v.core.dom.removeClassName;var x="cn";return function(z){var D,A;var H="have_more",F="have_more_open";var I=function(){G();y();E();B()};var G=function(){if(!z.scopeitem){throw"no scope box found."}};var y=function(){D=z.scopeitem;A=z.scopebtn};var B=function(){if(v.E("language")){x=v.E("language").value.toLowerCase()}var J=w(".oa_li",D);if(J.length>2){D.className+=" "+H;A.parentNode.style.display=""}};var E=function(){u(A,"click",C)};var C=function(){var J="";if(r(D,H)){s(D,H);t(D,F);J=x=="cn"?"收起":"Toggle"}else{s(D,F);t(D,H);J=x=="cn"?"展开全部":"Expand all"}A.innerHTML=J+'<span class="arr"></span>'};I()}});j.register("core.util.hideContainer",function(t){var u;var r=function(){if(u){return}u=t.C("div");u.style.cssText="position:absolute;top:-9999px;left:-9999px;";document.getElementsByTagName("head")[0].appendChild(u)};var s={appendChild:function(v){if(t.core.dom.isNode(v)){r();u.appendChild(v)}},removeChild:function(v){if(t.core.dom.isNode(v)){u&&u.removeChild(v)}}};return s});j.register("core.dom.getSize",function(s){var r=function(u){if(!s.core.dom.isNode(u)){throw"core.dom.getSize need Element as first parameter"}return{width:u.offsetWidth,height:u.offsetHeight}};var t=function(v){var u=null;if(v.style.display==="none"){v.style.visibility="hidden";v.style.display="";u=r(v);v.style.display="none";v.style.visibility="visible"}else{u=r(v)}return u};return function(v){var u={};if(!v.parentNode){s.core.util.hideContainer.appendChild(v);u=t(v);s.core.util.hideContainer.removeChild(v)}else{u=t(v)}return u}});j.register("core.dom.getStyle",function(r){return function(t,v){if(r.IE){switch(v){case"opacity":var x=100;try{x=t.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(w){try{x=t.filters("alpha").opacity}catch(w){}}return x/100;case"float":v="styleFloat";default:var u=t.currentStyle?t.currentStyle[v]:null;return(t.style[v]||u)}}else{if(v=="float"){v="cssFloat"}try{var s=document.defaultView.getComputedStyle(t,"")}catch(w){}return t.style[v]||s?s[v]:null}}});j.register("core.dom.setStyle",function(r){return function(s,t,u){if(r.IE){switch(t){case"opacity":s.style.filter="alpha(opacity="+(u*100)+")";if(!s.currentStyle||!s.currentStyle.hasLayout){s.style.zoom=1}break;case"float":t="styleFloat";default:s.style[t]=u}}else{if(t=="float"){t="cssFloat"}s.style[t]=u}}});j.register("common.placeholder",function(u){var t=u.core.evt.addEvent;var s=u.core.evt.stopEvent;var v=u.core.dom.setStyle;var w=u.core.dom.getStyle;function z(){var A=document.createElement("input");return"placeholder" in A}var r=z();var x=["Top","Right","Bottom","Left"];function y(I,A){var E=u.core.obj.parseParam({dom:null,text:I.getAttribute("placeholder"),color:"#9a9a9a",force:false},A);text=E.text||"";if(r&&!E.force){I.setAttribute("placeholder",text);return}var H;if(E.dom&&u.core.dom.isNode(E.dom)){H=E.dom}else{H=u.C("label");H.innerHTML=text;var F=u.core.dom.position(I);var K=u.core.dom.getSize(I);var J=["position:absolute"];J.push("width:"+K.width+"px");J.push("height:"+K.height+"px");J.push("line-height:"+K.height+"px");J.push("color:"+E.color);var B="",G="";for(var C=0,D=x.length;C<D;C++){B+=" "+w(I,"margin"+x[C]);G+=" "+w(I,"padding"+x[C])}J.push("margin:"+B);J.push("padding:"+G);J.push("left:"+(F.l+2)+"px");J.push("top:"+(F.t+2)+"px");J.push("font-size:"+parseInt(w(I,"fontSize"))+"px");H.style.cssText=J.join(";");document.body.appendChild(H)}if(I.value!=""){H.style.display="none"}t(H,"click",function(){H.style.display="none";I.focus()});t(I,"focus",function(){H.style.display="none"});t(I,"blur",function(){if(I.value==""){H.style.display="block"}});return H}return function(F,C){var E={};var B;if(u.core.dom.isNode(F)){B=y(F,C)}var G=function(){var H=u.core.dom.position(F);B.style.left=H.l+"px";B.style.top=H.t+"px"};var A=function(){B.style.display="block"};var D=function(){B.style.display="none"};E.reSetPos=G;E.show=A;E.hide=D;return E}});j.register("common.tabControl",function(w){var v=w.core.evt.addEvent;var u=w.core.evt.stopEvent;var z=w.core.evt.removeEvent;var y=w.core.dom.setStyle;var A=w.core.dom.getStyle;var r=[],s;var x;var t={isObjectHidden:function(C){var B;if(typeof C.nodeType!="undefined"&&C.nodeType!=1){return false}B=A(C,"display")=="none";if(B){return true}else{while(C!=document.body){return t.isObjectHidden(C.parentNode)}}},eventSet:function(C){if(r.length>0){for(var D=0,B=r.length;D<B;D++){if(r[D].tagName.toLowerCase()=="textarea"||(r[D].tagName.toLowerCase()=="input"&&(r[D].type=="text"||r[D].type=="password"||r[D].type=="email"))){if(C==true){v(r[D],"keyup",t.stopBubble)}else{z(r[D],"keyup",t.stopBubble)}}}if(C==false){r=[]}}},getAllTabIndexObjects:function(){t.eventSet(false);var D=q("[tabindex]");var B=[];if(D.length>0){for(var C=0;C<D.length;C++){if(t.isObjectHidden(D[C])!=true){B.push(D[C])}}}r=B;t.eventSet(true)},getTabIndex:function(B){if(isNaN(s)){s=0}else{if(B>0){s++;if(s==r.length){s=0}}else{s--;if(s<0){s=r.length-1}}}return s},tabChange:function(B){if(r.length==0){return}var D;try{switch(B.keyCode){case 37:case 38:D=t.getTabIndex(-1);r[D].focus();break;case 39:case 40:D=t.getTabIndex(1);r[D].focus();break;case 13:x();break}}catch(C){}},stopBubble:function(B){if(!(B.keyCode==38||B.keyCode==40)){u()}}};return function(C){var D,B;var E={};x=C.onEnterKey;E.rebuild=t.getAllTabIndexObjects;t.getAllTabIndexObjects();v(document.body,"keyup",t.tabChange);return E}});var g=j,f=g.core.evt.addEvent,m=g.core.evt.removeEvent,c=g.core.str.trim,q=g.core.dom.sizzle,d=g.core.evt.stopEvent;var o={LOGINMSG:"请用微博帐号登录",CAPSLOCK:"键盘大写锁定已打开，请注意",USERNAME:"请输入微博帐号",PASSWORD:"请输入密码",VDUNCODE:"请输入微盾显示的动态密码",CHECKPIN:"请输入验证码",CLOSETIP:"授权尚未完成，确定现在关闭窗口？"};var b={LOGINMSG:"Use Weibo accout to log in",CAPSLOCK:"Caution: Caps Lock is active.",USERNAME:"Please input Weibo account",PASSWORD:"Please input password",VDUNCODE:"Please input weidun secure id",CHECKPIN:"please input captcha code",CLOSETIP:"Authorization has not been completed yet. Close the window?"};var i="cn";if(g.E("language")){i=g.E("language").value.toLowerCase()}function e(r){return i=="cn"?o[r]:b[r]}var a="#666666";var h="#9A9A9A";var p;var n=function(H){var G,E,B,A,v,C,O,L=false,z=false,s=false;var K;var R;var J=[];var I=g.E("action"),M=g.E("display").value;var S=I.value,D=q("input[name=appkey62]")[0].value||"";var F=function(){if(!H){throw"node is not defined"}};var r=function(){G=g.kit.dom.parseDOM(g.core.dom.builder(H).list);A=G.vdunBox;v=G.validateBox;if(M=="mobile"){J=["btnP","btnG"]}else{var T=G.submit.className;cssArr=T.split(" ");J=[T,cssArr[0]+"Ing "+cssArr[1]]}};var w=function(){E=g.core.evt.delegatedEvent(H);E.add("submit","click",u.submit);E.add("logout","click",u.logout);E.add("changeAccount","click",u.changeAccount);f(G.cancel,"click",u.cancel);if(G.userid){f(G.form,"submit",u.submit);f(G.userid,"focus",u.toggleTipText);f(G.userid,"blur",u.toggleTipText);f(G.userid,"click",u.hideTip);f(G.passwd,"click",u.hideTip);f(G.passwd,"keypress",u.capslock);f(G.changeCode,"click",u.pinCode)}if(S=="scope"){f(window,"beforeunload",y)}if(M=="mobile"){f(document,"click",u.hideAccountTip)}K=g.common.tabControl({onEnterKey:u.submit})};var P=function(){var U=[];var T=q("input[type=checkbox]",H);g.core.arr.foreach(T,function(V,W){V.checked&&U.push(V.value)});return U.join(",")};var u={submit:function(){var V=g.E("officalFlag");g.E("withOfficalFlag").value=(V&&V.checked)?"1":"0";if(G.userid){g.core.evt.preventDefault();var X=G.userid.value;var W=G.passwd.value;var T="",U="";if(X==""||X==e("LOGINMSG")){B.setContent(e("USERNAME")).show();u.getAllTabIndexObjects();return}if(W==""){B.setContent(e("PASSWORD")).show();u.getAllTabIndexObjects();return}if(L){T=c(G.vdun.value);if(T==""||T.length<6){B.setContent(e("VDUNCODE")).show();u.getAllTabIndexObjects();return}}if(z){U=c(G.vcode.value);if(U==""){B.setContent(e("CHECKPIN")).show();u.getAllTabIndexObjects();return}}u.hideTip();G.submit.className=J[1];g.common.login.doLogin({userId:X,passWd:W,vsnval:T,door:U,appkey:D,callback:u.callback})}else{switch(S){case"login":case"authorize":G.submit.className=J[1];break;case"scope":g.E("scope").value=P();m(window,"beforeunload",y);break}G.form.submit()}},logout:function(){g.core.evt.stopEvent();g.common.login.doLogout()},changeAccount:function(){g.core.evt.stopEvent();G.account&&(G.account.className="logins logins_open")},hideAccountTip:function(){G.account&&(G.account.className="logins")},toggleTipText:function(U){var T=G.userid;if(T.value==e("LOGINMSG")&&U.type=="focus"){T.value="";T.style.color=a}else{if(T.value==""&&U.type=="blur"){T.value=e("LOGINMSG");T.style.color=h}if(T.value!=e("LOGINMSG")&&T.value!=R){R=T.value;g.common.login.preLogin(T.value,function(V){switch(V.showpin){case 1:u.pinCode();u.hideVdun();break;case 2:u.hidePinCode();u.showVdun();break;case 0:default:u.hideVdun();u.hidePinCode()}})}}},hideTip:function(){B&&B.hide();u.getAllTabIndexObjects()},pinCode:function(U){var T=sinaSSOController.getPinCodeUrl();G.pincode.src=T;G.vcode.value="";v.style.display="";z=true;U&&U.reason&&B.setContent(U.reason).show();u.getAllTabIndexObjects()},hidePinCode:function(){z=false;v.style.display="none"},showVdun:function(T){A.style.display="";L=true;G.vdun.value="";T&&T.reason&&B.setContent(T.reason).show();u.getAllTabIndexObjects()},hideVdun:function(){L=false;A.style.display="none"},capslock:function(V){V=g.core.evt.fixEvent(V);var U=V.keyCode||V.which;var T=V.shiftKey||(U==16)||false;if(((U>=65&&U<=90)&&!T)||((U>=97&&U<=122)&&T)){B.setContent(e("CAPSLOCK")).show();u.getAllTabIndexObjects()}else{u.hideTip()}},cancel:function(){switch(S){case"login":I.value="refused";G.userid&&(G.userid.value="");break;case"authorize":I.value="refused";break;case"scope":g.E("scope").value="";break}G.form.submit()},callback:function(T){if(!T.result){switch(T.errno){case"5024":case"5025":u.showVdun(T);break;case"4049":case"2070":u.pinCode(T);break;default:if(z){u.pinCode(T)}B.setContent(T.reason).show();u.getAllTabIndexObjects();break}G.submit.className=J[0];return}if(T.ticket!=""){g.E("ticket").value=T.ticket;g.core.dom.removeNode(G.userid);g.core.dom.removeNode(G.passwd)}G.form.submit()},getAllTabIndexObjects:function(){K.rebuild()}};var t=function(){var T="default,js,popup";if(M==0||T.indexOf(M)!=-1){g.common.resize()}};var x=function(){var T=q(".icon_help")[0],U=q(".WB_tips_mini_w")[0];U&&(U.style.display="none");f(T,"mouseover",function(){U&&(U.style.display="")});f(T,"mouseout",function(){U&&(U.style.display="none")})};var y=function(){var T=g.core.evt.getEvent();T.returnValue=e("CLOSETIP")};var Q=function(){if(G.userid){B=g.ui.simpleTip(G);G.userid.value=e("LOGINMSG");G.userid.style.color=h;if(typeof $CONFIG!="undefined"&&$CONFIG.$errorMsg){B.setContent($CONFIG.$errorMsg).show();u.getAllTabIndexObjects()}}if(S=="scope"){x();if(M=="mobile"){g.common.mobile.scope(G)}}g.common.privacy(G,M);t();if(G.userid){if(!p){p=g.C("div");p.innerHTML=e("PASSWORD");p.className="input_note";g.core.dom.insertAfter(p,G.passwd);O=g.common.placeholder(G.passwd,{dom:p,force:true,text:e("PASSWORD")})}}};var N=function(){F();r();w();Q()};N()};n(g.E("outer"))})();